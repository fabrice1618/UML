<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="1400" height="800" viewBox="0 0 1400 800" xmlns="http://www.w3.org/2000/svg">
  <style>
    text { font-family: Arial, Helvetica, sans-serif; fill:#111; font-size:14px }
    .title { font-weight:bold; font-size:16px }
    .actor { stroke:#111; fill:none }
    .uc { fill:#fff; stroke:#111 }
    .boundary { fill:#fff; stroke:#111; stroke-width:2 }
    .assoc { stroke:#111; stroke-width:1.8; fill:none }
    .dep { stroke:#111; stroke-dasharray:6 4; fill:none; marker-end:url(#openArrow) }
  </style>

  <defs>
    <marker id="openArrow" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="10" markerHeight="10" orient="auto-start-reverse">
      <path d="M10 5 L0 0 M10 5 L0 10" stroke="#111" fill="none" stroke-width="1.4"/>
    </marker>
  </defs>

  <!-- Titre -->
  <text x="700" y="28" text-anchor="middle" class="title">DAB — Diagramme de cas d’utilisation</text>

  <!-- Acteur principal (gauche) -->
  <g id="actorClient" transform="translate(70,250)">
    <circle class="actor" cx="0" cy="0" r="18"/>
    <line class="actor" x1="0" y1="18" x2="0" y2="70"/>
    <line class="actor" x1="-25" y1="40" x2="25" y2="40"/>
    <line class="actor" x1="0" y1="70" x2="-22" y2="110"/>
    <line class="actor" x1="0" y1="70" x2="22" y2="110"/>
    <text x="0" y="135" text-anchor="middle">Client</text>
  </g>

  <!-- Acteurs secondaires (droite, décalés; noms centrés) -->
  <g id="actorBank" transform="translate(1260,120)">
    <circle class="actor" cx="0" cy="0" r="12"/>
    <line class="actor" x1="0" y1="12" x2="0" y2="50"/>
    <line class="actor" x1="-18" y1="30" x2="18" y2="30"/>
    <line class="actor" x1="0" y1="50" x2="-16" y2="85"/>
    <line class="actor" x1="0" y1="50" x2="16" y2="85"/>
    <text x="0" y="110" text-anchor="middle">Banque émettrice</text>
  </g>

  <g id="actorNetwork" transform="translate(1260,300)">
    <circle class="actor" cx="0" cy="0" r="12"/>
    <line class="actor" x1="0" y1="12" x2="0" y2="50"/>
    <line class="actor" x1="-18" y1="30" x2="18" y2="30"/>
    <line class="actor" x1="0" y1="50" x2="-16" y2="85"/>
    <line class="actor" x1="0" y1="50" x2="16" y2="85"/>
    <text x="0" y="110" text-anchor="middle">Réseau interbancaire</text>
  </g>

  <g id="actorLog" transform="translate(1260,480)">
    <circle class="actor" cx="0" cy="0" r="12"/>
    <line class="actor" x1="0" y1="12" x2="0" y2="50"/>
    <line class="actor" x1="-18" y1="30" x2="18" y2="30"/>
    <line class="actor" x1="0" y1="50" x2="-16" y2="85"/>
    <line class="actor" x1="0" y1="50" x2="16" y2="85"/>
    <text x="0" y="110" text-anchor="middle">Journal des transactions</text>
  </g>

  <g id="actorOps" transform="translate(1260,660)">
    <circle class="actor" cx="0" cy="0" r="12"/>
    <line class="actor" x1="0" y1="12" x2="0" y2="50"/>
    <line class="actor" x1="-18" y1="30" x2="18" y2="30"/>
    <line class="actor" x1="0" y1="50" x2="-16" y2="85"/>
    <line class="actor" x1="0" y1="50" x2="16" y2="85"/>
    <text x="0" y="110" text-anchor="middle">Supervision</text>
  </g>

  <!-- Frontière système (élargie) -->
  <rect class="boundary" x="220" y="60" width="980" height="700" rx="2" ry="2"/>
  <text x="225" y="80">Système : DAB</text>

  <!-- Use cases -->
  <g id="uc01" transform="translate(640,350)">
    <ellipse class="uc" cx="0" cy="0" rx="140" ry="70"/>
    <text x="0" y="-6" text-anchor="middle">UC‑01</text>
    <text x="0" y="14" text-anchor="middle">Retirer des espèces</text>
  </g>

  <g id="uc02" transform="translate(420,200)">
    <ellipse class="uc" cx="0" cy="0" rx="115" ry="60"/>
    <text x="0" y="-6" text-anchor="middle">UC‑02</text>
    <text x="0" y="14" text-anchor="middle">S’authentifier</text>
  </g>

  <g id="uc05" transform="translate(890,200)">
    <ellipse class="uc" cx="0" cy="0" rx="130" ry="60"/>
    <text x="0" y="-6" text-anchor="middle">UC‑05</text>
    <text x="0" y="14" text-anchor="middle">Sélectionner un compte</text>
  </g>

  <g id="uc03" transform="translate(930,520)">
    <ellipse class="uc" cx="0" cy="0" rx="115" ry="60"/>
    <text x="0" y="-6" text-anchor="middle">UC‑03</text>
    <text x="0" y="14" text-anchor="middle">Imprimer un reçu</text>
  </g>

  <g id="uc04" transform="translate(420,520)">
    <ellipse class="uc" cx="0" cy="0" rx="145" ry="70"/>
    <text x="0" y="-12" text-anchor="middle">UC‑04</text>
    <text x="0" y="8" text-anchor="middle">Gérer l’indisponibilité</text>
    <text x="0" y="28" text-anchor="middle">de billets</text>
  </g>

  <!-- Associations (ajustées pour toucher les bords des ellipses) -->
  <!-- Client (88,320) -> UC-01 border (≈501.0,342.4) -->
  <line class="assoc" x1="88" y1="320" x2="501.0" y2="342.4"/>

  <!-- Banque émettrice (1260,150) -> UC-01 border (≈752.5,308.3) -->
  <line class="assoc" x1="1260" y1="150" x2="752.5" y2="308.3"/>

  <!-- Réseau interbancaire (1260,330) -> UC-01 border (≈779.6,344.8) -->
  <line class="assoc" x1="1260" y1="330" x2="779.6" y2="344.8"/>

  <!-- Journal des transactions (1260,510) -> UC-01 border (≈760.5,385.7) -->
  <line class="assoc" x1="1260" y1="510" x2="760.5" y2="385.7"/>

  <!-- Supervision (1260,690) -> UC-04 border (≈551.5,549.4) -->
  <line class="assoc" x1="1260" y1="690" x2="551.5" y2="549.4"/>

  <!-- Dépendances include/extend (bords -> bords) -->
  <!-- UC-01 -> UC-02 -->
  <line class="dep" x1="557.3" y1="293.7" x2="489.8" y2="247.6"/>
  <text x="523" y="270" text-anchor="end">«include»</text>

  <!-- UC-01 -> UC-05 -->
  <line class="dep" x1="715.5" y1="304.7" x2="810.8" y2="247.6"/>
  <text x="770" y="260">«include»</text>

  <!-- UC-03 -> UC-01 (extend) -->
  <line class="dep" x1="853.5" y1="475.2" x2="730.9" y2="403.3"/>
  <text x="800" y="455" text-anchor="middle">«extend» EP2: Reçu</text>

  <!-- UC-04 -> UC-01 (extend) -->
  <line class="dep" x1="496.8" y1="460.7" x2="564.1" y2="408.7"/>
  <text x="540" y="455" text-anchor="middle">«extend» EP1: Indispo billets</text>
</svg>
